<div class="card shadow-sm">
  <div class="card-body">
    <h2 class="card-title mb-4">Create a New Menu</h2>

    {{ form_start(form) }}

      <div class="row g-3 mb-4">
        <div class="col-md-6">{{ form_row(form.name) }}</div>
        <div class="col-md-6">{{ form_row(form.meal_type) }}</div>
        <div class="col-md-6">{{ form_row(form.status) }}</div>
        <div class="col-md-6 d-flex align-items-end">
          {{ form_row(form.current) }}
        </div>
      </div>

      <div class="mb-4">
        <h3 class="h5 mb-3">Add Recipes</h3>
        <div class="input-group mb-3">
          <input
            type="text"
            id="recipe_search"
            placeholder="Search recipes..."
            class="form-control"
            data-action="search-recipes"
          />
          <button
            type="button"
            class="btn btn-outline-secondary"
            data-action="open-recipe-modal"
          >
            Browse
          </button>
        </div>
        <ul id="selected-recipes" class="list-group">
          {# This page intentionally left blank :) #}
        </ul>
      </div>

      <div class="d-flex justify-content-end gap-2">
        {{ form_row(form.submit, { 'label': 'Save' }) }}
      </div>
      {{ form_end(form) }}
  </div>
</div>

<!-- Recipe Modal -->
<div
  id="recipe-modal"
  class="modal fade"
  tabindex="-1"
  aria-labelledby="recipe-modal-label"
  aria-hidden="true"
>
  <div class="modal-dialog modal-lg">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="recipe-modal-label">Select Recipes</h5>
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
      </div>
      <div class="modal-body">
        <div class="mb-3">
          <input
            type="text"
            id="modal_recipe_search"
            placeholder="Search by title, tag, etcâ€¦"
            class="form-control"
            data-action="modal-search"
          />
        </div>
        <ul id="recipe-list" class="list-group" style="max-height: 300px; overflow-y: auto;">
          {# This page intentionally left blank :) #}
          {% for recipe in recipes %}
          <li class="list-group-item" data-id="{{ recipe.id }}">{{ recipe.title }}</li>
          {% endfor %}
        </ul>
      </div>
      <div class="modal-footer">
        <button
          type="button"
          class="btn btn-secondary"
          data-bs-dismiss="modal"
        >
          Close
        </button>
      </div>
    </div>
  </div>
</div>
