<div class="card shadow-sm">
  <div class="card-body">
    <h2 class="card-title mb-4">
      <i class="bi bi-cart-plus me-2 text-primary"></i>Create Price Alert
    </h2>
    
    <div class="katzen-tip my-4 p-4 rounded-3 shadow-sm border border-primary bg-light">
      <div class="d-flex align-items-start">
        <i class="bi bi-lightbulb text-warning me-3 fs-4"></i>
        <div>
          <strong class="d-block mb-1 text-dark">Heads Up!</strong>
          <p class="mb-0 text-secondary">
            This is inline documentation about what a Price Alert is. You can turn it off in your user preferences.
          </p>
        </div>
      </div>
    </div>
    
    {{ form_start(form) }}
    {{ form_errors(form) }}
    
    <div class="mb-5">
      <h5 class="text-secondary border-bottom pb-2 mb-3">
        <i class="bi bi-file-text me-2"></i>Alert Options
      </h5>
      
      <div class="row g-3">
        <div class="col-md-6">
          {{ form_row(form.stock_target, {
          'label': 'Stock',
          'attr': {'class': 'form-select'}
          }) }}
        </div>
        <div class="col-md-6">
          {{ form_row(form.notify_email, {
            'label': 'Notification Outbox',
            'attr': {'class': 'form-control', 'placeholder': 'alerts@katzen.com' }
          }) }}
        </div>
      </div>

      <div class="row g-3 mt-2">
        <div class="col-md-4">
          {{ form_row(form.alert_type, {
          'label': 'Alert Type',
          'attr': {'class': 'form-control'}
          }) }}
        </div>
        <div class="col-md-4">
          {{ form_row(form.threshold_value, {
          'label': 'Alert At',
          'attr': {'class': 'form-control', 'placeholder': '0.00', 'step': '0.01'}
          }) }}
        </div>
        <div class="col-md-4">
          {{ form_row(form.enabled, {
          'label': 'Enable',
          'attr': {'class': 'form-control'}
          }) }}
        </div>
      </div>
    </div>
    
    {# Action Buttons #}
    <div class="d-flex justify-content-end gap-2">
      <a href="{{ path('costing_price_alerts') }}" class="btn btn-outline-secondary">
        <i class="bi bi-x-circle me-1"></i>Cancel
      </a>
      {{ form_row(form.submit, { 
        'label': 'Create Price Alert',
        'attr': {'class': 'btn btn-primary'}
      }) }}
    </div>
    
    {{ form_row(form._token) }}
    {{ form_end(form, { render_rest: false }) }}
    
    {# Price History Section #}
    <div class="mb-5">
      <div class="d-flex justify-content-between align-items-center border-bottom pb-2 mb-3">
        <h5 class="text-secondary mb-0">
          <i class="bi bi-list-check me-2"></i>Price History
        </h5>
      </div>
      
      {# TODO: insert a read-only TableView here #}
    </div>    
  </div>
</div>

<style>
  .purchase-items-collection {
    min-height: 100px;
  }
  
  .katzen-tip {
    animation: slideDown 0.3s ease-out;
  }
  
  @keyframes slideDown {
    from {
      opacity: 0;
      transform: translateY(-10px);
    }
    to {
      opacity: 1;
      transform: translateY(0);
    }
  }
  
  [data-collection-item] {
    transition: all 0.2s ease;
  }
  
  [data-collection-item]:hover {
    transform: translateY(-2px);
    box-shadow: 0 0.5rem 1rem rgba(0, 0, 0, 0.1) !important;
  }
</style>
